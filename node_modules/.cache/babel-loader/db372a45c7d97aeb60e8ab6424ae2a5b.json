{"ast":null,"code":"'use strict';\n\nconst EventEmitter = require('events').EventEmitter;\n\nconst qs = require('qs');\n\nconst crypto = require('crypto');\n\nconst hasOwn = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop); // Certain sandboxed environments (our known example right now are CloudFlare\n// Workers) may make `child_process` unavailable. Because `exec` isn't critical\n// to the operation of stripe-node, we handle this unavailability gracefully.\n\n\nlet exec = null;\n\ntry {\n  exec = require('child_process').exec;\n} catch (e) {\n  if (e.code !== 'MODULE_NOT_FOUND') {\n    throw e;\n  }\n}\n\nconst OPTIONS_KEYS = ['apiKey', 'idempotencyKey', 'stripeAccount', 'apiVersion', 'maxNetworkRetries', 'timeout', 'host'];\nconst DEPRECATED_OPTIONS = {\n  api_key: 'apiKey',\n  idempotency_key: 'idempotencyKey',\n  stripe_account: 'stripeAccount',\n  stripe_version: 'apiVersion',\n  stripeVersion: 'apiVersion'\n};\nconst DEPRECATED_OPTIONS_KEYS = Object.keys(DEPRECATED_OPTIONS);\nconst utils = module.exports = {\n  isOptionsHash(o) {\n    return o && typeof o === 'object' && (OPTIONS_KEYS.some(prop => hasOwn(o, prop)) || DEPRECATED_OPTIONS_KEYS.some(prop => hasOwn(o, prop)));\n  },\n\n  /**\n   * Stringifies an Object, accommodating nested objects\n   * (forming the conventional key 'parent[child]=value')\n   */\n  stringifyRequestData: data => {\n    return qs.stringify(data, {\n      serializeDate: d => Math.floor(d.getTime() / 1000)\n    }) // Don't use strict form encoding by changing the square bracket control\n    // characters back to their literals. This is fine by the server, and\n    // makes these parameter strings easier to read.\n    .replace(/%5B/g, '[').replace(/%5D/g, ']');\n  },\n\n  /**\n   * Outputs a new function with interpolated object property values.\n   * Use like so:\n   *   const fn = makeURLInterpolator('some/url/{param1}/{param2}');\n   *   fn({ param1: 123, param2: 456 }); // => 'some/url/123/456'\n   */\n  makeURLInterpolator: (() => {\n    const rc = {\n      '\\n': '\\\\n',\n      '\"': '\\\\\"',\n      '\\u2028': '\\\\u2028',\n      '\\u2029': '\\\\u2029'\n    };\n    return str => {\n      const cleanString = str.replace(/[\"\\n\\r\\u2028\\u2029]/g, $0 => rc[$0]);\n      return outputs => {\n        return cleanString.replace(/\\{([\\s\\S]+?)\\}/g, ($0, $1) => encodeURIComponent(outputs[$1] || ''));\n      };\n    };\n  })(),\n  extractUrlParams: path => {\n    const params = path.match(/\\{\\w+\\}/g);\n\n    if (!params) {\n      return [];\n    }\n\n    return params.map(param => param.replace(/[{}]/g, ''));\n  },\n\n  /**\n   * Return the data argument from a list of arguments\n   *\n   * @param {object[]} args\n   * @returns {object}\n   */\n  getDataFromArgs(args) {\n    if (!Array.isArray(args) || !args[0] || typeof args[0] !== 'object') {\n      return {};\n    }\n\n    if (!utils.isOptionsHash(args[0])) {\n      return args.shift();\n    }\n\n    const argKeys = Object.keys(args[0]);\n    const optionKeysInArgs = argKeys.filter(key => OPTIONS_KEYS.includes(key)); // In some cases options may be the provided as the first argument.\n    // Here we're detecting a case where there are two distinct arguments\n    // (the first being args and the second options) and with known\n    // option keys in the first so that we can warn the user about it.\n\n    if (optionKeysInArgs.length > 0 && optionKeysInArgs.length !== argKeys.length) {\n      emitWarning(`Options found in arguments (${optionKeysInArgs.join(', ')}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`);\n    }\n\n    return {};\n  },\n\n  /**\n   * Return the options hash from a list of arguments\n   */\n  getOptionsFromArgs: args => {\n    const opts = {\n      auth: null,\n      headers: {},\n      settings: {}\n    };\n\n    if (args.length > 0) {\n      const arg = args[args.length - 1];\n\n      if (typeof arg === 'string') {\n        opts.auth = args.pop();\n      } else if (utils.isOptionsHash(arg)) {\n        const params = { ...args.pop()\n        };\n        const extraKeys = Object.keys(params).filter(key => !OPTIONS_KEYS.includes(key));\n\n        if (extraKeys.length) {\n          const nonDeprecated = extraKeys.filter(key => {\n            if (!DEPRECATED_OPTIONS[key]) {\n              return true;\n            }\n\n            const newParam = DEPRECATED_OPTIONS[key];\n\n            if (params[newParam]) {\n              throw Error(`Both '${newParam}' and '${key}' were provided; please remove '${key}', which is deprecated.`);\n            }\n            /**\n             * TODO turn this into a hard error in a future major version (once we have fixed our docs).\n             */\n\n\n            emitWarning(`'${key}' is deprecated; use '${newParam}' instead.`);\n            params[newParam] = params[key];\n          });\n\n          if (nonDeprecated.length) {\n            emitWarning(`Invalid options found (${extraKeys.join(', ')}); ignoring.`);\n          }\n        }\n\n        if (params.apiKey) {\n          opts.auth = params.apiKey;\n        }\n\n        if (params.idempotencyKey) {\n          opts.headers['Idempotency-Key'] = params.idempotencyKey;\n        }\n\n        if (params.stripeAccount) {\n          opts.headers['Stripe-Account'] = params.stripeAccount;\n        }\n\n        if (params.apiVersion) {\n          opts.headers['Stripe-Version'] = params.apiVersion;\n        }\n\n        if (Number.isInteger(params.maxNetworkRetries)) {\n          opts.settings.maxNetworkRetries = params.maxNetworkRetries;\n        }\n\n        if (Number.isInteger(params.timeout)) {\n          opts.settings.timeout = params.timeout;\n        }\n\n        if (params.host) {\n          opts.host = params.host;\n        }\n      }\n    }\n\n    return opts;\n  },\n\n  /**\n   * Provide simple \"Class\" extension mechanism\n   */\n  protoExtend(sub) {\n    const Super = this;\n    const Constructor = hasOwn(sub, 'constructor') ? sub.constructor : function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      Super.apply(this, args);\n    }; // This initialization logic is somewhat sensitive to be compatible with\n    // divergent JS implementations like the one found in Qt. See here for more\n    // context:\n    //\n    // https://github.com/stripe/stripe-node/pull/334\n\n    Object.assign(Constructor, Super);\n    Constructor.prototype = Object.create(Super.prototype);\n    Object.assign(Constructor.prototype, sub);\n    return Constructor;\n  },\n\n  /**\n   * Secure compare, from https://github.com/freewil/scmp\n   */\n  secureCompare: (a, b) => {\n    a = Buffer.from(a);\n    b = Buffer.from(b); // return early here if buffer lengths are not equal since timingSafeEqual\n    // will throw if buffer lengths are not equal\n\n    if (a.length !== b.length) {\n      return false;\n    } // use crypto.timingSafeEqual if available (since Node.js v6.6.0),\n    // otherwise use our own scmp-internal function.\n\n\n    if (crypto.timingSafeEqual) {\n      return crypto.timingSafeEqual(a, b);\n    }\n\n    const len = a.length;\n    let result = 0;\n\n    for (let i = 0; i < len; ++i) {\n      result |= a[i] ^ b[i];\n    }\n\n    return result === 0;\n  },\n\n  /**\n   * Remove empty values from an object\n   */\n  removeNullish: obj => {\n    if (typeof obj !== 'object') {\n      throw new Error('Argument must be an object');\n    }\n\n    return Object.keys(obj).reduce((result, key) => {\n      if (obj[key] != null) {\n        result[key] = obj[key];\n      }\n\n      return result;\n    }, {});\n  },\n\n  /**\n   * Normalize standard HTTP Headers:\n   * {'foo-bar': 'hi'}\n   * becomes\n   * {'Foo-Bar': 'hi'}\n   */\n  normalizeHeaders: obj => {\n    if (!(obj && typeof obj === 'object')) {\n      return obj;\n    }\n\n    return Object.keys(obj).reduce((result, header) => {\n      result[utils.normalizeHeader(header)] = obj[header];\n      return result;\n    }, {});\n  },\n\n  /**\n   * Stolen from https://github.com/marten-de-vries/header-case-normalizer/blob/master/index.js#L36-L41\n   * without the exceptions which are irrelevant to us.\n   */\n  normalizeHeader: header => {\n    return header.split('-').map(text => text.charAt(0).toUpperCase() + text.substr(1).toLowerCase()).join('-');\n  },\n\n  /**\n   * Determine if file data is a derivative of EventEmitter class.\n   * https://nodejs.org/api/events.html#events_events\n   */\n  checkForStream: obj => {\n    if (obj.file && obj.file.data) {\n      return obj.file.data instanceof EventEmitter;\n    }\n\n    return false;\n  },\n  callbackifyPromiseWithTimeout: (promise, callback) => {\n    if (callback) {\n      // Ensure callback is called outside of promise stack.\n      return promise.then(res => {\n        setTimeout(() => {\n          callback(null, res);\n        }, 0);\n      }, err => {\n        setTimeout(() => {\n          callback(err, null);\n        }, 0);\n      });\n    }\n\n    return promise;\n  },\n\n  /**\n   * Allow for special capitalization cases (such as OAuth)\n   */\n  pascalToCamelCase: name => {\n    if (name === 'OAuth') {\n      return 'oauth';\n    } else {\n      return name[0].toLowerCase() + name.substring(1);\n    }\n  },\n  emitWarning,\n\n  /**\n   * Node's built in `exec` function sometimes throws outright,\n   * and sometimes has a callback with an error,\n   * depending on the type of error.\n   *\n   * This unifies that interface.\n   */\n  safeExec: (cmd, cb) => {\n    // Occurs if we couldn't load the `child_process` module, which might\n    // happen in certain sandboxed environments like a CloudFlare Worker.\n    if (utils._exec === null) {\n      cb(new Error('exec not available'), null);\n      return;\n    }\n\n    try {\n      utils._exec(cmd, cb);\n    } catch (e) {\n      cb(e, null);\n    }\n  },\n  // For mocking in tests.\n  _exec: exec,\n  isObject: obj => {\n    const type = typeof obj;\n    return (type === 'function' || type === 'object') && !!obj;\n  },\n  // For use in multipart requests\n  flattenAndStringify: data => {\n    const result = {};\n\n    const step = (obj, prevKey) => {\n      Object.keys(obj).forEach(key => {\n        const value = obj[key];\n        const newKey = prevKey ? `${prevKey}[${key}]` : key;\n\n        if (utils.isObject(value)) {\n          if (!Buffer.isBuffer(value) && !value.hasOwnProperty('data')) {\n            // Non-buffer non-file Objects are recursively flattened\n            return step(value, newKey);\n          } else {\n            // Buffers and file objects are stored without modification\n            result[newKey] = value;\n          }\n        } else {\n          // Primitives are converted to strings\n          result[newKey] = String(value);\n        }\n      });\n    };\n\n    step(data);\n    return result;\n  },\n\n  /**\n   * https://stackoverflow.com/a/2117523\n   */\n  uuid4: () => {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n      const r = Math.random() * 16 | 0;\n      const v = c === 'x' ? r : r & 0x3 | 0x8;\n      return v.toString(16);\n    });\n  },\n  validateInteger: (name, n, defaultVal) => {\n    if (!Number.isInteger(n)) {\n      if (defaultVal !== undefined) {\n        return defaultVal;\n      } else {\n        throw new Error(`${name} must be an integer`);\n      }\n    }\n\n    return n;\n  },\n  determineProcessUserAgentProperties: () => {\n    return typeof process === 'undefined' ? {} : {\n      lang_version: process.version,\n      platform: process.platform\n    };\n  }\n};\n\nfunction emitWarning(warning) {\n  if (typeof process.emitWarning !== 'function') {\n    return console.warn(`Stripe: ${warning}`);\n    /* eslint-disable-line no-console */\n  }\n\n  return process.emitWarning(warning, 'Stripe');\n}","map":{"version":3,"names":["EventEmitter","require","qs","crypto","hasOwn","obj","prop","Object","prototype","hasOwnProperty","call","exec","e","code","OPTIONS_KEYS","DEPRECATED_OPTIONS","api_key","idempotency_key","stripe_account","stripe_version","stripeVersion","DEPRECATED_OPTIONS_KEYS","keys","utils","module","exports","isOptionsHash","o","some","stringifyRequestData","data","stringify","serializeDate","d","Math","floor","getTime","replace","makeURLInterpolator","rc","str","cleanString","$0","outputs","$1","encodeURIComponent","extractUrlParams","path","params","match","map","param","getDataFromArgs","args","Array","isArray","shift","argKeys","optionKeysInArgs","filter","key","includes","length","emitWarning","join","getOptionsFromArgs","opts","auth","headers","settings","arg","pop","extraKeys","nonDeprecated","newParam","Error","apiKey","idempotencyKey","stripeAccount","apiVersion","Number","isInteger","maxNetworkRetries","timeout","host","protoExtend","sub","Super","Constructor","constructor","apply","assign","create","secureCompare","a","b","Buffer","from","timingSafeEqual","len","result","i","removeNullish","reduce","normalizeHeaders","header","normalizeHeader","split","text","charAt","toUpperCase","substr","toLowerCase","checkForStream","file","callbackifyPromiseWithTimeout","promise","callback","then","res","setTimeout","err","pascalToCamelCase","name","substring","safeExec","cmd","cb","_exec","isObject","type","flattenAndStringify","step","prevKey","forEach","value","newKey","isBuffer","String","uuid4","c","r","random","v","toString","validateInteger","n","defaultVal","undefined","determineProcessUserAgentProperties","process","lang_version","version","platform","warning","console","warn"],"sources":["/Users/joris/Library/Mobile Documents/com~apple~CloudDocs/OneDrive v1/34. Projects/stripe-prebuilt/node_modules/stripe/lib/utils.js"],"sourcesContent":["'use strict';\n\nconst EventEmitter = require('events').EventEmitter;\nconst qs = require('qs');\nconst crypto = require('crypto');\n\nconst hasOwn = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\n// Certain sandboxed environments (our known example right now are CloudFlare\n// Workers) may make `child_process` unavailable. Because `exec` isn't critical\n// to the operation of stripe-node, we handle this unavailability gracefully.\nlet exec = null;\ntry {\n  exec = require('child_process').exec;\n} catch (e) {\n  if (e.code !== 'MODULE_NOT_FOUND') {\n    throw e;\n  }\n}\n\nconst OPTIONS_KEYS = [\n  'apiKey',\n  'idempotencyKey',\n  'stripeAccount',\n  'apiVersion',\n  'maxNetworkRetries',\n  'timeout',\n  'host',\n];\n\nconst DEPRECATED_OPTIONS = {\n  api_key: 'apiKey',\n  idempotency_key: 'idempotencyKey',\n  stripe_account: 'stripeAccount',\n  stripe_version: 'apiVersion',\n  stripeVersion: 'apiVersion',\n};\nconst DEPRECATED_OPTIONS_KEYS = Object.keys(DEPRECATED_OPTIONS);\n\nconst utils = (module.exports = {\n  isOptionsHash(o) {\n    return (\n      o &&\n      typeof o === 'object' &&\n      (OPTIONS_KEYS.some((prop) => hasOwn(o, prop)) ||\n        DEPRECATED_OPTIONS_KEYS.some((prop) => hasOwn(o, prop)))\n    );\n  },\n\n  /**\n   * Stringifies an Object, accommodating nested objects\n   * (forming the conventional key 'parent[child]=value')\n   */\n  stringifyRequestData: (data) => {\n    return (\n      qs\n        .stringify(data, {\n          serializeDate: (d) => Math.floor(d.getTime() / 1000),\n        })\n        // Don't use strict form encoding by changing the square bracket control\n        // characters back to their literals. This is fine by the server, and\n        // makes these parameter strings easier to read.\n        .replace(/%5B/g, '[')\n        .replace(/%5D/g, ']')\n    );\n  },\n\n  /**\n   * Outputs a new function with interpolated object property values.\n   * Use like so:\n   *   const fn = makeURLInterpolator('some/url/{param1}/{param2}');\n   *   fn({ param1: 123, param2: 456 }); // => 'some/url/123/456'\n   */\n  makeURLInterpolator: (() => {\n    const rc = {\n      '\\n': '\\\\n',\n      '\"': '\\\\\"',\n      '\\u2028': '\\\\u2028',\n      '\\u2029': '\\\\u2029',\n    };\n    return (str) => {\n      const cleanString = str.replace(/[\"\\n\\r\\u2028\\u2029]/g, ($0) => rc[$0]);\n      return (outputs) => {\n        return cleanString.replace(/\\{([\\s\\S]+?)\\}/g, ($0, $1) =>\n          encodeURIComponent(outputs[$1] || '')\n        );\n      };\n    };\n  })(),\n\n  extractUrlParams: (path) => {\n    const params = path.match(/\\{\\w+\\}/g);\n    if (!params) {\n      return [];\n    }\n\n    return params.map((param) => param.replace(/[{}]/g, ''));\n  },\n\n  /**\n   * Return the data argument from a list of arguments\n   *\n   * @param {object[]} args\n   * @returns {object}\n   */\n  getDataFromArgs(args) {\n    if (!Array.isArray(args) || !args[0] || typeof args[0] !== 'object') {\n      return {};\n    }\n\n    if (!utils.isOptionsHash(args[0])) {\n      return args.shift();\n    }\n\n    const argKeys = Object.keys(args[0]);\n\n    const optionKeysInArgs = argKeys.filter((key) =>\n      OPTIONS_KEYS.includes(key)\n    );\n\n    // In some cases options may be the provided as the first argument.\n    // Here we're detecting a case where there are two distinct arguments\n    // (the first being args and the second options) and with known\n    // option keys in the first so that we can warn the user about it.\n    if (\n      optionKeysInArgs.length > 0 &&\n      optionKeysInArgs.length !== argKeys.length\n    ) {\n      emitWarning(\n        `Options found in arguments (${optionKeysInArgs.join(\n          ', '\n        )}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`\n      );\n    }\n\n    return {};\n  },\n\n  /**\n   * Return the options hash from a list of arguments\n   */\n  getOptionsFromArgs: (args) => {\n    const opts = {\n      auth: null,\n      headers: {},\n      settings: {},\n    };\n    if (args.length > 0) {\n      const arg = args[args.length - 1];\n      if (typeof arg === 'string') {\n        opts.auth = args.pop();\n      } else if (utils.isOptionsHash(arg)) {\n        const params = {...args.pop()};\n\n        const extraKeys = Object.keys(params).filter(\n          (key) => !OPTIONS_KEYS.includes(key)\n        );\n\n        if (extraKeys.length) {\n          const nonDeprecated = extraKeys.filter((key) => {\n            if (!DEPRECATED_OPTIONS[key]) {\n              return true;\n            }\n            const newParam = DEPRECATED_OPTIONS[key];\n            if (params[newParam]) {\n              throw Error(\n                `Both '${newParam}' and '${key}' were provided; please remove '${key}', which is deprecated.`\n              );\n            }\n            /**\n             * TODO turn this into a hard error in a future major version (once we have fixed our docs).\n             */\n            emitWarning(`'${key}' is deprecated; use '${newParam}' instead.`);\n            params[newParam] = params[key];\n          });\n          if (nonDeprecated.length) {\n            emitWarning(\n              `Invalid options found (${extraKeys.join(', ')}); ignoring.`\n            );\n          }\n        }\n\n        if (params.apiKey) {\n          opts.auth = params.apiKey;\n        }\n        if (params.idempotencyKey) {\n          opts.headers['Idempotency-Key'] = params.idempotencyKey;\n        }\n        if (params.stripeAccount) {\n          opts.headers['Stripe-Account'] = params.stripeAccount;\n        }\n        if (params.apiVersion) {\n          opts.headers['Stripe-Version'] = params.apiVersion;\n        }\n        if (Number.isInteger(params.maxNetworkRetries)) {\n          opts.settings.maxNetworkRetries = params.maxNetworkRetries;\n        }\n        if (Number.isInteger(params.timeout)) {\n          opts.settings.timeout = params.timeout;\n        }\n        if (params.host) {\n          opts.host = params.host;\n        }\n      }\n    }\n    return opts;\n  },\n\n  /**\n   * Provide simple \"Class\" extension mechanism\n   */\n  protoExtend(sub) {\n    const Super = this;\n    const Constructor = hasOwn(sub, 'constructor')\n      ? sub.constructor\n      : function(...args) {\n          Super.apply(this, args);\n        };\n\n    // This initialization logic is somewhat sensitive to be compatible with\n    // divergent JS implementations like the one found in Qt. See here for more\n    // context:\n    //\n    // https://github.com/stripe/stripe-node/pull/334\n    Object.assign(Constructor, Super);\n    Constructor.prototype = Object.create(Super.prototype);\n    Object.assign(Constructor.prototype, sub);\n\n    return Constructor;\n  },\n\n  /**\n   * Secure compare, from https://github.com/freewil/scmp\n   */\n  secureCompare: (a, b) => {\n    a = Buffer.from(a);\n    b = Buffer.from(b);\n\n    // return early here if buffer lengths are not equal since timingSafeEqual\n    // will throw if buffer lengths are not equal\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    // use crypto.timingSafeEqual if available (since Node.js v6.6.0),\n    // otherwise use our own scmp-internal function.\n    if (crypto.timingSafeEqual) {\n      return crypto.timingSafeEqual(a, b);\n    }\n\n    const len = a.length;\n    let result = 0;\n\n    for (let i = 0; i < len; ++i) {\n      result |= a[i] ^ b[i];\n    }\n    return result === 0;\n  },\n\n  /**\n   * Remove empty values from an object\n   */\n  removeNullish: (obj) => {\n    if (typeof obj !== 'object') {\n      throw new Error('Argument must be an object');\n    }\n\n    return Object.keys(obj).reduce((result, key) => {\n      if (obj[key] != null) {\n        result[key] = obj[key];\n      }\n      return result;\n    }, {});\n  },\n\n  /**\n   * Normalize standard HTTP Headers:\n   * {'foo-bar': 'hi'}\n   * becomes\n   * {'Foo-Bar': 'hi'}\n   */\n  normalizeHeaders: (obj) => {\n    if (!(obj && typeof obj === 'object')) {\n      return obj;\n    }\n\n    return Object.keys(obj).reduce((result, header) => {\n      result[utils.normalizeHeader(header)] = obj[header];\n      return result;\n    }, {});\n  },\n\n  /**\n   * Stolen from https://github.com/marten-de-vries/header-case-normalizer/blob/master/index.js#L36-L41\n   * without the exceptions which are irrelevant to us.\n   */\n  normalizeHeader: (header) => {\n    return header\n      .split('-')\n      .map(\n        (text) => text.charAt(0).toUpperCase() + text.substr(1).toLowerCase()\n      )\n      .join('-');\n  },\n\n  /**\n   * Determine if file data is a derivative of EventEmitter class.\n   * https://nodejs.org/api/events.html#events_events\n   */\n  checkForStream: (obj) => {\n    if (obj.file && obj.file.data) {\n      return obj.file.data instanceof EventEmitter;\n    }\n    return false;\n  },\n\n  callbackifyPromiseWithTimeout: (promise, callback) => {\n    if (callback) {\n      // Ensure callback is called outside of promise stack.\n      return promise.then(\n        (res) => {\n          setTimeout(() => {\n            callback(null, res);\n          }, 0);\n        },\n        (err) => {\n          setTimeout(() => {\n            callback(err, null);\n          }, 0);\n        }\n      );\n    }\n\n    return promise;\n  },\n\n  /**\n   * Allow for special capitalization cases (such as OAuth)\n   */\n  pascalToCamelCase: (name) => {\n    if (name === 'OAuth') {\n      return 'oauth';\n    } else {\n      return name[0].toLowerCase() + name.substring(1);\n    }\n  },\n\n  emitWarning,\n\n  /**\n   * Node's built in `exec` function sometimes throws outright,\n   * and sometimes has a callback with an error,\n   * depending on the type of error.\n   *\n   * This unifies that interface.\n   */\n  safeExec: (cmd, cb) => {\n    // Occurs if we couldn't load the `child_process` module, which might\n    // happen in certain sandboxed environments like a CloudFlare Worker.\n    if (utils._exec === null) {\n      cb(new Error('exec not available'), null);\n      return;\n    }\n\n    try {\n      utils._exec(cmd, cb);\n    } catch (e) {\n      cb(e, null);\n    }\n  },\n\n  // For mocking in tests.\n  _exec: exec,\n\n  isObject: (obj) => {\n    const type = typeof obj;\n    return (type === 'function' || type === 'object') && !!obj;\n  },\n\n  // For use in multipart requests\n  flattenAndStringify: (data) => {\n    const result = {};\n\n    const step = (obj, prevKey) => {\n      Object.keys(obj).forEach((key) => {\n        const value = obj[key];\n\n        const newKey = prevKey ? `${prevKey}[${key}]` : key;\n\n        if (utils.isObject(value)) {\n          if (!Buffer.isBuffer(value) && !value.hasOwnProperty('data')) {\n            // Non-buffer non-file Objects are recursively flattened\n            return step(value, newKey);\n          } else {\n            // Buffers and file objects are stored without modification\n            result[newKey] = value;\n          }\n        } else {\n          // Primitives are converted to strings\n          result[newKey] = String(value);\n        }\n      });\n    };\n\n    step(data);\n\n    return result;\n  },\n\n  /**\n   * https://stackoverflow.com/a/2117523\n   */\n  uuid4: () => {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n      const r = (Math.random() * 16) | 0;\n      const v = c === 'x' ? r : (r & 0x3) | 0x8;\n      return v.toString(16);\n    });\n  },\n\n  validateInteger: (name, n, defaultVal) => {\n    if (!Number.isInteger(n)) {\n      if (defaultVal !== undefined) {\n        return defaultVal;\n      } else {\n        throw new Error(`${name} must be an integer`);\n      }\n    }\n\n    return n;\n  },\n\n  determineProcessUserAgentProperties: () => {\n    return typeof process === 'undefined'\n      ? {}\n      : {\n          lang_version: process.version,\n          platform: process.platform,\n        };\n  },\n});\n\nfunction emitWarning(warning) {\n  if (typeof process.emitWarning !== 'function') {\n    return console.warn(\n      `Stripe: ${warning}`\n    ); /* eslint-disable-line no-console */\n  }\n\n  return process.emitWarning(warning, 'Stripe');\n}\n"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBD,YAAvC;;AACA,MAAME,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMG,MAAM,GAAG,CAACC,GAAD,EAAMC,IAAN,KAAeC,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCL,GAArC,EAA0CC,IAA1C,CAA9B,C,CAEA;AACA;AACA;;;AACA,IAAIK,IAAI,GAAG,IAAX;;AACA,IAAI;EACFA,IAAI,GAAGV,OAAO,CAAC,eAAD,CAAP,CAAyBU,IAAhC;AACD,CAFD,CAEE,OAAOC,CAAP,EAAU;EACV,IAAIA,CAAC,CAACC,IAAF,KAAW,kBAAf,EAAmC;IACjC,MAAMD,CAAN;EACD;AACF;;AAED,MAAME,YAAY,GAAG,CACnB,QADmB,EAEnB,gBAFmB,EAGnB,eAHmB,EAInB,YAJmB,EAKnB,mBALmB,EAMnB,SANmB,EAOnB,MAPmB,CAArB;AAUA,MAAMC,kBAAkB,GAAG;EACzBC,OAAO,EAAE,QADgB;EAEzBC,eAAe,EAAE,gBAFQ;EAGzBC,cAAc,EAAE,eAHS;EAIzBC,cAAc,EAAE,YAJS;EAKzBC,aAAa,EAAE;AALU,CAA3B;AAOA,MAAMC,uBAAuB,GAAGd,MAAM,CAACe,IAAP,CAAYP,kBAAZ,CAAhC;AAEA,MAAMQ,KAAK,GAAIC,MAAM,CAACC,OAAP,GAAiB;EAC9BC,aAAa,CAACC,CAAD,EAAI;IACf,OACEA,CAAC,IACD,OAAOA,CAAP,KAAa,QADb,KAECb,YAAY,CAACc,IAAb,CAAmBtB,IAAD,IAAUF,MAAM,CAACuB,CAAD,EAAIrB,IAAJ,CAAlC,KACCe,uBAAuB,CAACO,IAAxB,CAA8BtB,IAAD,IAAUF,MAAM,CAACuB,CAAD,EAAIrB,IAAJ,CAA7C,CAHF,CADF;EAMD,CAR6B;;EAU9B;AACF;AACA;AACA;EACEuB,oBAAoB,EAAGC,IAAD,IAAU;IAC9B,OACE5B,EAAE,CACC6B,SADH,CACaD,IADb,EACmB;MACfE,aAAa,EAAGC,CAAD,IAAOC,IAAI,CAACC,KAAL,CAAWF,CAAC,CAACG,OAAF,KAAc,IAAzB;IADP,CADnB,EAIE;IACA;IACA;IANF,CAOGC,OAPH,CAOW,MAPX,EAOmB,GAPnB,EAQGA,OARH,CAQW,MARX,EAQmB,GARnB,CADF;EAWD,CA1B6B;;EA4B9B;AACF;AACA;AACA;AACA;AACA;EACEC,mBAAmB,EAAE,CAAC,MAAM;IAC1B,MAAMC,EAAE,GAAG;MACT,MAAM,KADG;MAET,KAAK,KAFI;MAGT,UAAU,SAHD;MAIT,UAAU;IAJD,CAAX;IAMA,OAAQC,GAAD,IAAS;MACd,MAAMC,WAAW,GAAGD,GAAG,CAACH,OAAJ,CAAY,sBAAZ,EAAqCK,EAAD,IAAQH,EAAE,CAACG,EAAD,CAA9C,CAApB;MACA,OAAQC,OAAD,IAAa;QAClB,OAAOF,WAAW,CAACJ,OAAZ,CAAoB,iBAApB,EAAuC,CAACK,EAAD,EAAKE,EAAL,KAC5CC,kBAAkB,CAACF,OAAO,CAACC,EAAD,CAAP,IAAe,EAAhB,CADb,CAAP;MAGD,CAJD;IAKD,CAPD;EAQD,CAfoB,GAlCS;EAmD9BE,gBAAgB,EAAGC,IAAD,IAAU;IAC1B,MAAMC,MAAM,GAAGD,IAAI,CAACE,KAAL,CAAW,UAAX,CAAf;;IACA,IAAI,CAACD,MAAL,EAAa;MACX,OAAO,EAAP;IACD;;IAED,OAAOA,MAAM,CAACE,GAAP,CAAYC,KAAD,IAAWA,KAAK,CAACd,OAAN,CAAc,OAAd,EAAuB,EAAvB,CAAtB,CAAP;EACD,CA1D6B;;EA4D9B;AACF;AACA;AACA;AACA;AACA;EACEe,eAAe,CAACC,IAAD,EAAO;IACpB,IAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,IAAd,CAAD,IAAwB,CAACA,IAAI,CAAC,CAAD,CAA7B,IAAoC,OAAOA,IAAI,CAAC,CAAD,CAAX,KAAmB,QAA3D,EAAqE;MACnE,OAAO,EAAP;IACD;;IAED,IAAI,CAAC9B,KAAK,CAACG,aAAN,CAAoB2B,IAAI,CAAC,CAAD,CAAxB,CAAL,EAAmC;MACjC,OAAOA,IAAI,CAACG,KAAL,EAAP;IACD;;IAED,MAAMC,OAAO,GAAGlD,MAAM,CAACe,IAAP,CAAY+B,IAAI,CAAC,CAAD,CAAhB,CAAhB;IAEA,MAAMK,gBAAgB,GAAGD,OAAO,CAACE,MAAR,CAAgBC,GAAD,IACtC9C,YAAY,CAAC+C,QAAb,CAAsBD,GAAtB,CADuB,CAAzB,CAXoB,CAepB;IACA;IACA;IACA;;IACA,IACEF,gBAAgB,CAACI,MAAjB,GAA0B,CAA1B,IACAJ,gBAAgB,CAACI,MAAjB,KAA4BL,OAAO,CAACK,MAFtC,EAGE;MACAC,WAAW,CACR,+BAA8BL,gBAAgB,CAACM,IAAjB,CAC7B,IAD6B,CAE7B,4GAHO,CAAX;IAKD;;IAED,OAAO,EAAP;EACD,CAjG6B;;EAmG9B;AACF;AACA;EACEC,kBAAkB,EAAGZ,IAAD,IAAU;IAC5B,MAAMa,IAAI,GAAG;MACXC,IAAI,EAAE,IADK;MAEXC,OAAO,EAAE,EAFE;MAGXC,QAAQ,EAAE;IAHC,CAAb;;IAKA,IAAIhB,IAAI,CAACS,MAAL,GAAc,CAAlB,EAAqB;MACnB,MAAMQ,GAAG,GAAGjB,IAAI,CAACA,IAAI,CAACS,MAAL,GAAc,CAAf,CAAhB;;MACA,IAAI,OAAOQ,GAAP,KAAe,QAAnB,EAA6B;QAC3BJ,IAAI,CAACC,IAAL,GAAYd,IAAI,CAACkB,GAAL,EAAZ;MACD,CAFD,MAEO,IAAIhD,KAAK,CAACG,aAAN,CAAoB4C,GAApB,CAAJ,EAA8B;QACnC,MAAMtB,MAAM,GAAG,EAAC,GAAGK,IAAI,CAACkB,GAAL;QAAJ,CAAf;QAEA,MAAMC,SAAS,GAAGjE,MAAM,CAACe,IAAP,CAAY0B,MAAZ,EAAoBW,MAApB,CACfC,GAAD,IAAS,CAAC9C,YAAY,CAAC+C,QAAb,CAAsBD,GAAtB,CADM,CAAlB;;QAIA,IAAIY,SAAS,CAACV,MAAd,EAAsB;UACpB,MAAMW,aAAa,GAAGD,SAAS,CAACb,MAAV,CAAkBC,GAAD,IAAS;YAC9C,IAAI,CAAC7C,kBAAkB,CAAC6C,GAAD,CAAvB,EAA8B;cAC5B,OAAO,IAAP;YACD;;YACD,MAAMc,QAAQ,GAAG3D,kBAAkB,CAAC6C,GAAD,CAAnC;;YACA,IAAIZ,MAAM,CAAC0B,QAAD,CAAV,EAAsB;cACpB,MAAMC,KAAK,CACR,SAAQD,QAAS,UAASd,GAAI,mCAAkCA,GAAI,yBAD5D,CAAX;YAGD;YACD;AACZ;AACA;;;YACYG,WAAW,CAAE,IAAGH,GAAI,yBAAwBc,QAAS,YAA1C,CAAX;YACA1B,MAAM,CAAC0B,QAAD,CAAN,GAAmB1B,MAAM,CAACY,GAAD,CAAzB;UACD,CAfqB,CAAtB;;UAgBA,IAAIa,aAAa,CAACX,MAAlB,EAA0B;YACxBC,WAAW,CACR,0BAAyBS,SAAS,CAACR,IAAV,CAAe,IAAf,CAAqB,cADtC,CAAX;UAGD;QACF;;QAED,IAAIhB,MAAM,CAAC4B,MAAX,EAAmB;UACjBV,IAAI,CAACC,IAAL,GAAYnB,MAAM,CAAC4B,MAAnB;QACD;;QACD,IAAI5B,MAAM,CAAC6B,cAAX,EAA2B;UACzBX,IAAI,CAACE,OAAL,CAAa,iBAAb,IAAkCpB,MAAM,CAAC6B,cAAzC;QACD;;QACD,IAAI7B,MAAM,CAAC8B,aAAX,EAA0B;UACxBZ,IAAI,CAACE,OAAL,CAAa,gBAAb,IAAiCpB,MAAM,CAAC8B,aAAxC;QACD;;QACD,IAAI9B,MAAM,CAAC+B,UAAX,EAAuB;UACrBb,IAAI,CAACE,OAAL,CAAa,gBAAb,IAAiCpB,MAAM,CAAC+B,UAAxC;QACD;;QACD,IAAIC,MAAM,CAACC,SAAP,CAAiBjC,MAAM,CAACkC,iBAAxB,CAAJ,EAAgD;UAC9ChB,IAAI,CAACG,QAAL,CAAca,iBAAd,GAAkClC,MAAM,CAACkC,iBAAzC;QACD;;QACD,IAAIF,MAAM,CAACC,SAAP,CAAiBjC,MAAM,CAACmC,OAAxB,CAAJ,EAAsC;UACpCjB,IAAI,CAACG,QAAL,CAAcc,OAAd,GAAwBnC,MAAM,CAACmC,OAA/B;QACD;;QACD,IAAInC,MAAM,CAACoC,IAAX,EAAiB;UACflB,IAAI,CAACkB,IAAL,GAAYpC,MAAM,CAACoC,IAAnB;QACD;MACF;IACF;;IACD,OAAOlB,IAAP;EACD,CAvK6B;;EAyK9B;AACF;AACA;EACEmB,WAAW,CAACC,GAAD,EAAM;IACf,MAAMC,KAAK,GAAG,IAAd;IACA,MAAMC,WAAW,GAAGpF,MAAM,CAACkF,GAAD,EAAM,aAAN,CAAN,GAChBA,GAAG,CAACG,WADY,GAEhB,YAAkB;MAAA,kCAANpC,IAAM;QAANA,IAAM;MAAA;;MAChBkC,KAAK,CAACG,KAAN,CAAY,IAAZ,EAAkBrC,IAAlB;IACD,CAJL,CAFe,CAQf;IACA;IACA;IACA;IACA;;IACA9C,MAAM,CAACoF,MAAP,CAAcH,WAAd,EAA2BD,KAA3B;IACAC,WAAW,CAAChF,SAAZ,GAAwBD,MAAM,CAACqF,MAAP,CAAcL,KAAK,CAAC/E,SAApB,CAAxB;IACAD,MAAM,CAACoF,MAAP,CAAcH,WAAW,CAAChF,SAA1B,EAAqC8E,GAArC;IAEA,OAAOE,WAAP;EACD,CA9L6B;;EAgM9B;AACF;AACA;EACEK,aAAa,EAAE,CAACC,CAAD,EAAIC,CAAJ,KAAU;IACvBD,CAAC,GAAGE,MAAM,CAACC,IAAP,CAAYH,CAAZ,CAAJ;IACAC,CAAC,GAAGC,MAAM,CAACC,IAAP,CAAYF,CAAZ,CAAJ,CAFuB,CAIvB;IACA;;IACA,IAAID,CAAC,CAAChC,MAAF,KAAaiC,CAAC,CAACjC,MAAnB,EAA2B;MACzB,OAAO,KAAP;IACD,CARsB,CAUvB;IACA;;;IACA,IAAI3D,MAAM,CAAC+F,eAAX,EAA4B;MAC1B,OAAO/F,MAAM,CAAC+F,eAAP,CAAuBJ,CAAvB,EAA0BC,CAA1B,CAAP;IACD;;IAED,MAAMI,GAAG,GAAGL,CAAC,CAAChC,MAAd;IACA,IAAIsC,MAAM,GAAG,CAAb;;IAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAApB,EAAyB,EAAEE,CAA3B,EAA8B;MAC5BD,MAAM,IAAIN,CAAC,CAACO,CAAD,CAAD,GAAON,CAAC,CAACM,CAAD,CAAlB;IACD;;IACD,OAAOD,MAAM,KAAK,CAAlB;EACD,CA1N6B;;EA4N9B;AACF;AACA;EACEE,aAAa,EAAGjG,GAAD,IAAS;IACtB,IAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;MAC3B,MAAM,IAAIsE,KAAJ,CAAU,4BAAV,CAAN;IACD;;IAED,OAAOpE,MAAM,CAACe,IAAP,CAAYjB,GAAZ,EAAiBkG,MAAjB,CAAwB,CAACH,MAAD,EAASxC,GAAT,KAAiB;MAC9C,IAAIvD,GAAG,CAACuD,GAAD,CAAH,IAAY,IAAhB,EAAsB;QACpBwC,MAAM,CAACxC,GAAD,CAAN,GAAcvD,GAAG,CAACuD,GAAD,CAAjB;MACD;;MACD,OAAOwC,MAAP;IACD,CALM,EAKJ,EALI,CAAP;EAMD,CA1O6B;;EA4O9B;AACF;AACA;AACA;AACA;AACA;EACEI,gBAAgB,EAAGnG,GAAD,IAAS;IACzB,IAAI,EAAEA,GAAG,IAAI,OAAOA,GAAP,KAAe,QAAxB,CAAJ,EAAuC;MACrC,OAAOA,GAAP;IACD;;IAED,OAAOE,MAAM,CAACe,IAAP,CAAYjB,GAAZ,EAAiBkG,MAAjB,CAAwB,CAACH,MAAD,EAASK,MAAT,KAAoB;MACjDL,MAAM,CAAC7E,KAAK,CAACmF,eAAN,CAAsBD,MAAtB,CAAD,CAAN,GAAwCpG,GAAG,CAACoG,MAAD,CAA3C;MACA,OAAOL,MAAP;IACD,CAHM,EAGJ,EAHI,CAAP;EAID,CA3P6B;;EA6P9B;AACF;AACA;AACA;EACEM,eAAe,EAAGD,MAAD,IAAY;IAC3B,OAAOA,MAAM,CACVE,KADI,CACE,GADF,EAEJzD,GAFI,CAGF0D,IAAD,IAAUA,IAAI,CAACC,MAAL,CAAY,CAAZ,EAAeC,WAAf,KAA+BF,IAAI,CAACG,MAAL,CAAY,CAAZ,EAAeC,WAAf,EAHtC,EAKJhD,IALI,CAKC,GALD,CAAP;EAMD,CAxQ6B;;EA0Q9B;AACF;AACA;AACA;EACEiD,cAAc,EAAG5G,GAAD,IAAS;IACvB,IAAIA,GAAG,CAAC6G,IAAJ,IAAY7G,GAAG,CAAC6G,IAAJ,CAASpF,IAAzB,EAA+B;MAC7B,OAAOzB,GAAG,CAAC6G,IAAJ,CAASpF,IAAT,YAAyB9B,YAAhC;IACD;;IACD,OAAO,KAAP;EACD,CAnR6B;EAqR9BmH,6BAA6B,EAAE,CAACC,OAAD,EAAUC,QAAV,KAAuB;IACpD,IAAIA,QAAJ,EAAc;MACZ;MACA,OAAOD,OAAO,CAACE,IAAR,CACJC,GAAD,IAAS;QACPC,UAAU,CAAC,MAAM;UACfH,QAAQ,CAAC,IAAD,EAAOE,GAAP,CAAR;QACD,CAFS,EAEP,CAFO,CAAV;MAGD,CALI,EAMJE,GAAD,IAAS;QACPD,UAAU,CAAC,MAAM;UACfH,QAAQ,CAACI,GAAD,EAAM,IAAN,CAAR;QACD,CAFS,EAEP,CAFO,CAAV;MAGD,CAVI,CAAP;IAYD;;IAED,OAAOL,OAAP;EACD,CAvS6B;;EAyS9B;AACF;AACA;EACEM,iBAAiB,EAAGC,IAAD,IAAU;IAC3B,IAAIA,IAAI,KAAK,OAAb,EAAsB;MACpB,OAAO,OAAP;IACD,CAFD,MAEO;MACL,OAAOA,IAAI,CAAC,CAAD,CAAJ,CAAQX,WAAR,KAAwBW,IAAI,CAACC,SAAL,CAAe,CAAf,CAA/B;IACD;EACF,CAlT6B;EAoT9B7D,WApT8B;;EAsT9B;AACF;AACA;AACA;AACA;AACA;AACA;EACE8D,QAAQ,EAAE,CAACC,GAAD,EAAMC,EAAN,KAAa;IACrB;IACA;IACA,IAAIxG,KAAK,CAACyG,KAAN,KAAgB,IAApB,EAA0B;MACxBD,EAAE,CAAC,IAAIpD,KAAJ,CAAU,oBAAV,CAAD,EAAkC,IAAlC,CAAF;MACA;IACD;;IAED,IAAI;MACFpD,KAAK,CAACyG,KAAN,CAAYF,GAAZ,EAAiBC,EAAjB;IACD,CAFD,CAEE,OAAOnH,CAAP,EAAU;MACVmH,EAAE,CAACnH,CAAD,EAAI,IAAJ,CAAF;IACD;EACF,CA1U6B;EA4U9B;EACAoH,KAAK,EAAErH,IA7UuB;EA+U9BsH,QAAQ,EAAG5H,GAAD,IAAS;IACjB,MAAM6H,IAAI,GAAG,OAAO7H,GAApB;IACA,OAAO,CAAC6H,IAAI,KAAK,UAAT,IAAuBA,IAAI,KAAK,QAAjC,KAA8C,CAAC,CAAC7H,GAAvD;EACD,CAlV6B;EAoV9B;EACA8H,mBAAmB,EAAGrG,IAAD,IAAU;IAC7B,MAAMsE,MAAM,GAAG,EAAf;;IAEA,MAAMgC,IAAI,GAAG,CAAC/H,GAAD,EAAMgI,OAAN,KAAkB;MAC7B9H,MAAM,CAACe,IAAP,CAAYjB,GAAZ,EAAiBiI,OAAjB,CAA0B1E,GAAD,IAAS;QAChC,MAAM2E,KAAK,GAAGlI,GAAG,CAACuD,GAAD,CAAjB;QAEA,MAAM4E,MAAM,GAAGH,OAAO,GAAI,GAAEA,OAAQ,IAAGzE,GAAI,GAArB,GAA0BA,GAAhD;;QAEA,IAAIrC,KAAK,CAAC0G,QAAN,CAAeM,KAAf,CAAJ,EAA2B;UACzB,IAAI,CAACvC,MAAM,CAACyC,QAAP,CAAgBF,KAAhB,CAAD,IAA2B,CAACA,KAAK,CAAC9H,cAAN,CAAqB,MAArB,CAAhC,EAA8D;YAC5D;YACA,OAAO2H,IAAI,CAACG,KAAD,EAAQC,MAAR,CAAX;UACD,CAHD,MAGO;YACL;YACApC,MAAM,CAACoC,MAAD,CAAN,GAAiBD,KAAjB;UACD;QACF,CARD,MAQO;UACL;UACAnC,MAAM,CAACoC,MAAD,CAAN,GAAiBE,MAAM,CAACH,KAAD,CAAvB;QACD;MACF,CAjBD;IAkBD,CAnBD;;IAqBAH,IAAI,CAACtG,IAAD,CAAJ;IAEA,OAAOsE,MAAP;EACD,CAhX6B;;EAkX9B;AACF;AACA;EACEuC,KAAK,EAAE,MAAM;IACX,OAAO,uCAAuCtG,OAAvC,CAA+C,OAA/C,EAAyDuG,CAAD,IAAO;MACpE,MAAMC,CAAC,GAAI3G,IAAI,CAAC4G,MAAL,KAAgB,EAAjB,GAAuB,CAAjC;MACA,MAAMC,CAAC,GAAGH,CAAC,KAAK,GAAN,GAAYC,CAAZ,GAAiBA,CAAC,GAAG,GAAL,GAAY,GAAtC;MACA,OAAOE,CAAC,CAACC,QAAF,CAAW,EAAX,CAAP;IACD,CAJM,CAAP;EAKD,CA3X6B;EA6X9BC,eAAe,EAAE,CAACtB,IAAD,EAAOuB,CAAP,EAAUC,UAAV,KAAyB;IACxC,IAAI,CAACnE,MAAM,CAACC,SAAP,CAAiBiE,CAAjB,CAAL,EAA0B;MACxB,IAAIC,UAAU,KAAKC,SAAnB,EAA8B;QAC5B,OAAOD,UAAP;MACD,CAFD,MAEO;QACL,MAAM,IAAIxE,KAAJ,CAAW,GAAEgD,IAAK,qBAAlB,CAAN;MACD;IACF;;IAED,OAAOuB,CAAP;EACD,CAvY6B;EAyY9BG,mCAAmC,EAAE,MAAM;IACzC,OAAO,OAAOC,OAAP,KAAmB,WAAnB,GACH,EADG,GAEH;MACEC,YAAY,EAAED,OAAO,CAACE,OADxB;MAEEC,QAAQ,EAAEH,OAAO,CAACG;IAFpB,CAFJ;EAMD;AAhZ6B,CAAhC;;AAmZA,SAAS1F,WAAT,CAAqB2F,OAArB,EAA8B;EAC5B,IAAI,OAAOJ,OAAO,CAACvF,WAAf,KAA+B,UAAnC,EAA+C;IAC7C,OAAO4F,OAAO,CAACC,IAAR,CACJ,WAAUF,OAAQ,EADd,CAAP;IAEG;EACJ;;EAED,OAAOJ,OAAO,CAACvF,WAAR,CAAoB2F,OAApB,EAA6B,QAA7B,CAAP;AACD"},"metadata":{},"sourceType":"script"}